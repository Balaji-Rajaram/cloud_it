
let wordpressHTML=`<div class="col-md-6 col-lg-4 item">
                    <div class="shadow" style="padding: 25px;background: #ffffff;margin-bottom: 25px;border-radius: 10px;">
                        <p class="d-xl-flex justify-content-xl-start" style="margin-bottom: 7px;font-size: 12px;color: rgb(178,180,183);">Match</p>
                        <div class="progress">
                            <div class="progress-bar bg-success" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%;" id="wordpressBar">50%</div>
                        </div>
                    </div>
                    <div class="shadow-lg box" style="text-align: left;border-radius: 10px;padding: 0px;">
                        <div style="padding: 30px;">
                            <div class="d-xl-flex justify-content-xl-start"><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);border-style: none;padding-left: 0px;"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i></div>
                            <p style="font-size: 12px;padding-top: 5px;color: rgb(178,180,183);margin-bottom: 0px;margin-right: 0px;margin-top: 16px;">Coustom stack</p>
                            <h4 style="color: rgb(29,30,61);font-weight: bold;margin-bottom: 15px;">Wordpess</h4>
                            <div class="d-flex d-xl-flex justify-content-start justify-content-xl-start">
                                <p style="font-size: 14px;margin-bottom: 0px;padding: 0px;background: #5fcba3;color: rgb(255,255,255);padding-right: 10px;padding-left: 10px;padding-top: 2px;padding-bottom: 2px;border-style: none;font-weight: 500;">24 Resource</p>
                            </div>
                            <p style="font-size: 14px;margin-top: 10px;">Wordpress instance with autoscalling loadbalancer and dedicated mysql instance</p>
                        </div>
                        <div class="d-flex d-xl-flex justify-content-end justify-content-xl-end align-items-xl-center" style="height: 100px;background: url(&quot;assets/img/background.png&quot;) bottom / cover no-repeat;">
                            <div class="d-flex d-xl-flex justify-content-end justify-content-xl-end" style="margin-bottom: 0px;margin-right: 20px;"><a href="/stack/wordpress">
                                    <div class="border rounded-circle d-flex d-xl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center" style="width: 40px;height: 40px;border-style: none;background: #050c42;"><i class="la la-angle-right" style="color: rgb(255,255,255);font-size: 12px;font-weight: bold;"></i></div>
                                </a></div>
                        </div>
                    </div>
                </div>`

let apacheHTML=` <div class="col-md-6 col-lg-4 item">
                    <div class="shadow" style="padding: 25px;background: #050c42;margin-bottom: 25px;border-radius: 10px;">
                        <p class="d-xl-flex justify-content-xl-start" style="margin-bottom: 7px;font-size: 12px;color: rgb(255,255,255);">Match</p>
                        <div class="progress">
                            <div class="progress-bar bg-success" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%;" id="apacheBar">50%</div>
                        </div>
                    </div>
                    <div class="shadow-lg box" style="text-align: left;background: rgb(5,12,66);border-radius: 10px;padding: 0px;">
                        <div style="padding: 30px;">
                            <div class="d-xl-flex justify-content-xl-start"><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);border-style: none;padding-left: 0px;"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i></div>
                            <p style="font-size: 12px;padding-top: 5px;color: rgb(178,180,183);margin-bottom: 0px;margin-right: 0px;margin-top: 16px;">Coustom stack</p>
                            <h4 style="color: rgb(255,255,255);font-weight: bold;margin-bottom: 15px;">Apache</h4>
                            <div class="d-flex d-xl-flex justify-content-start justify-content-xl-start">
                                <p style="font-size: 14px;margin-bottom: 0px;padding: 0px;background: #5fcba3;color: rgb(255,255,255);padding-right: 10px;padding-left: 10px;padding-top: 2px;padding-bottom: 2px;border-style: none;font-weight: 500;">8 Resource</p>
                            </div>
                            <p style="font-size: 14px;margin-top: 10px;color: rgb(255,255,255);">This stack contains the apache server with autoscalling and loadbalancer</p>
                        </div>
                        <div class="d-xl-flex justify-content-xl-end align-items-xl-center" style="height: 100px;padding: 30px;background: url(&quot;assets/img/bc.png&quot;) bottom / cover no-repeat;opacity: 1;">
                            <div class="d-flex d-xl-flex justify-content-end justify-content-xl-end" style="margin-bottom: 0px;margin-right: 0px;"><a href="/stack/Apache">
                                    <div class="border rounded-circle d-flex d-xl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center" style="width: 40px;height: 40px;border-style: none;background: #ffffff;"><i class="la la-angle-right" style="color: rgb(5,12,66);font-size: 12px;font-weight: bold;"></i></div>
                                </a></div>
                        </div>
                    </div>
                </div>`

let nodejsHTML=` <div class="col-md-6 col-lg-4 item">
                    <div class="shadow" style="padding: 25px;background: #7175d8;margin-bottom: 25px;border-radius: 10px;">
                        <p class="d-xl-flex justify-content-xl-start" style="margin-bottom: 7px;font-size: 12px;color: rgb(255,255,255);">Match</p>
                        <div class="progress">
                            <div class="progress-bar bg-success" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%;" id="nodejsBar">50%</div>
                        </div>
                    </div>
                    <div class="shadow-lg box" style="text-align: left;background: rgb(113,117,216);border-radius: 10px;padding: 0px;">
                        <div style="padding: 30px;">
                            <div class="d-xl-flex justify-content-xl-start"><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);border-style: none;padding-left: 0px;"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgb(201,113,119);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i><i class="fa fa-star" style="font-size: 12px;padding: 3px;color: rgba(201,113,119,0.38);"></i></div>
                            <p style="font-size: 12px;padding-top: 5px;color: rgb(228,228,228);margin-bottom: 0px;margin-right: 0px;margin-top: 16px;">Popular stack</p>
                            <h4 style="color: rgb(255,255,255);font-weight: bold;margin-bottom: 15px;">Node Js</h4>
                            <div class="d-flex d-xl-flex justify-content-start justify-content-xl-start">
                                <p style="font-size: 14px;margin-bottom: 0px;padding: 0px;background: #5fcba3;color: rgb(255,255,255);padding-right: 10px;padding-left: 10px;padding-top: 2px;padding-bottom: 2px;border-style: none;font-weight: 500;">9 Stack</p>
                            </div>
                            <p style="font-size: 14px;margin-top: 10px;color: rgb(255,255,255);">This stack contains the dedicated NodeJs instance with git enabaled</p>
                        </div>
                        <div class="d-xl-flex justify-content-xl-end align-items-xl-center" style="height: 100px;margin-top: 0px;padding: 30px;margin-bottom: 0px;background: url(&quot;assets/img/bc.png&quot;) bottom / cover no-repeat;opacity: 1;">
                            <div class="d-flex d-xl-flex justify-content-end justify-content-xl-end" style="margin-bottom: 0px;margin-right: 0px;"><a href="/stack/Nodejs">
                                    <div class="border rounded-circle d-flex d-xl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center" style="width: 40px;height: 40px;border-style: none;background: #ffffff;"><i class="la la-angle-right" style="color: rgb(5,12,66);font-size: 12px;font-weight: bold;"></i></div>
                                </a></div>
                        </div>
                    </div>
                </div>`


$("#pdfFile").on('change',async function fileDetect() {
    
    var pdfFile=document.getElementById('pdfFile')
    const formData = new FormData();
    formData.append('file',pdfFile.files[0])
    let detectTemplate= await fetch('/api/detector/', {
        method: 'POST',
        body:formData
    })
    let detectTemplateJson = await detectTemplate.json()
    if(detectTemplateJson.length){
        detectTemplateJson.forEach(element => {
            if(element.stack=='wordpress'){
                document.getElementById('stackRow').innerHTML+=wordpressHTML
                document.getElementById('wordpressBar').style.width=(element.percentage*100)+'%'
                document.getElementById('wordpressBar').innerText=(element.percentage*100)+'%'
            }
            if(element.stack=='apache'){
                document.getElementById('stackRow').innerHTML+=apacheHTML
                document.getElementById('apacheBar').style.width=(element.percentage*100)+'%'
                document.getElementById('apacheBar').innerText=(element.percentage*100)+'%'
            }
            if(element.stack=='nodejs'){
                document.getElementById('stackRow').innerHTML+=nodejsHTML
                document.getElementById('nodejsBar').style.width=(element.percentage*100)+'%'
                document.getElementById('nodejsBar').innerText=(element.percentage*100)+'%'
            }
        });
    }
    else{
        document.getElementById('notFound').style.display="block"
        document.getElementById('notFoundWord').style.display="block"
    }
    
});